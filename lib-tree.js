!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.lib_tree=i():e.lib_tree=i()}("undefined"!=typeof self?self:this,(function(){return function(e){var i={};function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(i){return e[i]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=1)}([function(e,i,t){"use strict";i.RelationshipTypes={PrevNode:"PrevNode",NextNode:"NextNode",FirstNode:"FirstNode",LastNode:"LastNode",RootNode:"RootNode",ParentNode:"ParentNode",PrevSibNode:"PrevSibNode",NextSibNode:"NextSibNode",FirstSibNode:"FirstSibNode",LastSibNode:"LastSibNode",FirstChildNode:"FirstChildNode",LastChildNode:"LastChildNode",FirstDescNode:"FirstDescNode",LastDescNode:"LastDescNode"};i.VisitationTypes={AllNodes:"AllNodes",PrevNodes:"PrevNodes",NextNodes:"NextNodes",ParentNodes:"ParentNodes",SiblingNodes:"SiblingNodes",PrevSibNodes:"PrevSibNodes",NextSibNodes:"NextSibNodes",ChildNodes:"ChildNodes",DescendantNodes:"DescendantNodes"}},function(e,i,t){"use strict";const n=t(0),o=t(2),d=t(3),s=t(4),r=t(5);i.RelationshipTypes=n.RelationshipTypes,i.VisitationTypes=n.VisitationTypes,i.AsNode=function e(i){return"object"!=typeof i&&(i={Data:i}),i.Node={},i.Node.Owner=i,i.Node.PrevNode=null,i.Node.NextNode=null,i.Node.Indent=0,i.Node.AddChild=function(i,t){function n(e,i,t){if(e.PrevNode||e.NextNode)throw new Error("This node is already linked.");return e.PrevNode=i,e.NextNode=t,e.PrevNode&&(e.PrevNode.NextNode=e),e.NextNode&&(e.NextNode.PrevNode=e),e}void 0===t&&(t=-1),i=e(i);for(var o=this,d=this.NextNode;d;){if(d.Indent===this.Indent+1){if(0===t)return n(i.Node,o,d),i.Node.Indent=this.Indent+1,i;t--}else if(d.Indent<=this.Indent)return n(i.Node,o,d),i.Node.Indent=this.Indent+1,i;o=d,d=d.NextNode}return n(i.Node,o,null),i.Node.Indent=this.Indent+1,i},i.Node.ChildCount=o.ChildCount,i.Node.Children=o.Children,i.Node.Child=o.Child,i.Node.DescendantCount=o.DescendantCount,i.Node.Descendants=o.Descendants,i.Node.Descendant=o.Descendant,i.Node.AddChildren=o.AddChildren,i.Node.RemoveChild=o.RemoveChild,i.Node.RemoveChildren=o.RemoveChildren,i.Node.FindRelative=d.FindRelative,i.Node.FindPrevNode=d.FindPrevNode,i.Node.FindNextNode=d.FindNextNode,i.Node.FindFirstNode=d.FindFirstNode,i.Node.FindLastNode=d.FindLastNode,i.Node.FindRootNode=d.FindRootNode,i.Node.FindParentNode=d.FindParentNode,i.Node.FindPrevSiblingNode=d.FindPrevSiblingNode,i.Node.FindNextSiblingNode=d.FindNextSiblingNode,i.Node.FindFirstSiblingNode=d.FindFirstSiblingNode,i.Node.FindLastSiblingNode=d.FindLastSiblingNode,i.Node.FindFirstChildNode=d.FindFirstChildNode,i.Node.FindLastChildNode=d.FindLastChildNode,i.Node.FindFirstDescendantNode=d.FindFirstDescendantNode,i.Node.FindLastDescendantNode=d.FindLastDescendantNode,i.Node.VisitNodes=r.VisitNodes,i.Node.VisitAllNodes=r.VisitAllNodes,i.Node.VisitPrevNodes=r.VisitPrevNodes,i.Node.VisitNextNodes=r.VisitNextNodes,i.Node.VisitParentNodes=r.VisitParentNodes,i.Node.VisitSiblingNodes=r.VisitSiblingNodes,i.Node.VisitPrevSibNodes=r.VisitPrevSibNodes,i.Node.VisitNextSibNodes=r.VisitNextSibNodes,i.Node.VisitChildNodes=r.VisitChildNodes,i.Node.VisitDescendantNodes=r.VisitDescendantNodes,i.Node.TextGraph=s.TextGraph,i.Node.TextPath=s.TextPath,i.Node.FindPath=s.FindPath,i},i.IsNode=function(e){return"object"==typeof e&&void 0!==e.Node}},function(e,i,t){"use strict";const n=t(0);i.ChildCount=function(){let e=0;return this.VisitNodes(n.VisitationTypes.ChildNodes,(function(i){e++}),!1),e},i.Children=function(){let e=[];return this.VisitNodes(n.VisitationTypes.ChildNodes,(function(i){e.push(i)}),!1),e},i.Child=function(e){let i=0,t=this.VisitNodes(n.VisitationTypes.ChildNodes,(function(t){if(i===e)return t;i++}),!1);return void 0===t&&(t=null),t},i.DescendantCount=function(){let e=0;return this.VisitNodes(n.VisitationTypes.DescendantNodes,(function(i){e++}),!1),e},i.Descendants=function(){let e=[];return this.VisitNodes(n.VisitationTypes.DescendantNodes,(function(i){e.push(i)}),!1),e},i.Descendant=function(e){let i=0,t=this.VisitNodes(n.VisitationTypes.DescendantNodes,(function(t){if(i===e)return t;i++}),!1);return void 0===t&&(t=null),t},i.AddChildren=function(e){return e.length>0&&e.forEach(e=>this.AddChild(e)),e},i.RemoveChild=function(e){let i=this.Child(e);if(!i)return null;let t=i.Node.FindRelative(n.RelationshipTypes.LastDescNode);return t?(i.Node.PrevNode.NextNode=t.Node.NextNode,t.Node.NextNode&&(t.Node.NextNode.PrevNode=i.Node.PrevNode)):i.Node.PrevNode.NextNode=i.Node.NextNode,delete i.Node,i},i.RemoveChildren=function(){let e=this.Children();var i=this.FindRelative(n.RelationshipTypes.LastDescNode);return i&&(i.Node.PrevNode=this,this.NextNode=i.Node.NextNode,i.Node.NextNode&&(i.Node.NextNode.PrevNode=this)),e.forEach(e=>delete e.Node),e}},function(e,i,t){"use strict";const n=t(0);i.FindRelative=function(e){for(var i=this.PrevNode,t=this.NextNode,o=this,d=this,s=null;;){if(e===n.RelationshipTypes.PrevNode)return this.PrevNode?this.PrevNode.Owner:null;if(e===n.RelationshipTypes.NextNode)return this.NextNode?this.NextNode.Owner:null;if(e===n.RelationshipTypes.FirstNode){if(null===i)return this.Owner;if(null===i.PrevNode)return i.Owner;i=i.PrevNode}else if(e===n.RelationshipTypes.LastNode){if(null===t)return this;if(null===t.NextNode)return t.Owner;t=t.NextNode}else if(e===n.RelationshipTypes.RootNode){if(null===i)return o?o.Owner:null;i.Indent<o.Indent&&(o=i),i=i.PrevNode}else if(e===n.RelationshipTypes.ParentNode){if(null===i)return null;if(i.Indent<this.Indent)return i.Owner;i=i.PrevNode}else if(e===n.RelationshipTypes.PrevSibNode){if(null===i)return null;if(i.Indent<this.Indent)return null;if(i.Indent===this.Indent)return i.Owner;i=i.PrevNode}else if(e===n.RelationshipTypes.NextSibNode){if(null===t)return null;if(t.Indent<this.Indent)return null;if(t.Indent===this.Indent)return t.Owner;t=t.NextNode}else if(e===n.RelationshipTypes.FirstSibNode){if(null===i)return d?d.Owner:null;if(i.Indent<this.Indent)return d?d.Owner:null;i.Indent===this.Indent&&(d=i),i=i.PrevNode}else if(e===n.RelationshipTypes.LastSibNode){if(null===t)return d?d.Owner:null;if(t.Indent<this.Indent)return d?d.Owner:null;t.Indent===this.Indent&&(d=t),t=t.NextNode}else if(e===n.RelationshipTypes.FirstChildNode){if(null===t)break;if(t.Indent<=this.Indent)break;if(t.Indent===this.Indent+1)return t.Owner;t=t.NextNode}else if(e===n.RelationshipTypes.LastChildNode){if(null===t)return s?s.Owner:null;if(t.Indent<=this.Indent)return s?s.Owner:null;t.Indent===this.Indent+1&&(s=t),t=t.NextNode}else{if(e===n.RelationshipTypes.FirstDescNode){if(t&&t.Indent>this.Indent)return t.Owner;break}if(e!==n.RelationshipTypes.LastDescNode)throw Error("Unknown RelationshipType ["+e+"].");if(null===t)return s?s.Owner:null;if(t.Indent<=this.Indent)return s?s.Owner:null;t.Indent>this.Indent&&(s=t),t=t.NextNode}}return null},i.FindPrevNode=function(){return this.PrevNode?this.PrevNode.Owner:null},i.FindNextNode=function(){return this.NextNode?this.NextNode.Owner:null},i.FindFirstNode=function(){return this.FindRelative(n.RelationshipTypes.FirstNode)},i.FindLastNode=function(){return this.FindRelative(n.RelationshipTypes.LastNode)},i.FindRootNode=function(){return this.FindRelative(n.RelationshipTypes.RootNode)},i.FindParentNode=function(){return this.FindRelative(n.RelationshipTypes.ParentNode)},i.FindPrevSiblingNode=function(){return this.FindRelative(n.RelationshipTypes.PrevSibNode)},i.FindNextSiblingNode=function(){return this.FindRelative(n.RelationshipTypes.NextSibNode)},i.FindFirstSiblingNode=function(){return this.FindRelative(n.RelationshipTypes.FirstSibNode)},i.FindLastSiblingNode=function(){return this.FindRelative(n.RelationshipTypes.LastSibNode)},i.FindFirstChildNode=function(){return this.FindRelative(n.RelationshipTypes.FirstChildNode)},i.FindLastChildNode=function(){return this.FindRelative(n.RelationshipTypes.LastChildNode)},i.FindFirstDescendantNode=function(){return this.FindRelative(n.RelationshipTypes.FirstDescNode)},i.FindLastDescendantNode=function(){return this.FindRelative(n.RelationshipTypes.LastDescNode)}},function(e,i,t){"use strict";const n=t(0);i.TextGraph=function(e,i,t,n){void 0===i&&(i=!1),void 0===t&&(t="\t"),void 0===n&&(n="\n");var o="";i&&(o=this.Owner[e]);for(var d=this.Indent,s=this.NextNode;s&&!(s.Indent<=d);){o+=n;var r=1;i||r++;for(var N=r;N<=s.Indent-d;N++)o+=t;o+=s.Owner[e],s=s.NextNode}return o},i.TextPath=function(e,i,t){void 0===i&&(i=!0),void 0===t&&(t="/");let o=[];this.VisitNodes(n.VisitationTypes.ParentNodes,e=>{o.push(e)},!0);var d=o.length-1;i||d--;for(var s="",r=0;r<=d;r++){s=t+o[r][e]+s}return s},i.FindPath=function(e,i,t,o){void 0===t&&(t=!1),void 0===o&&(o="/");let d=e,s=this;for(;s&&d.length>0;){for(;0==d.indexOf(o);)d=d.substr(o.length);if(d.length>0){let e=d.indexOf(o);e<0&&(e=d.length);let t=d.substr(0,e);d=d.substr(e);let r=s.VisitNodes(n.VisitationTypes.ChildNodes,e=>{if(e[i]===t)return e},!0);if(!r)return null;s=r.Node}}return s?s.Owner:null}},function(e,i,t){"use strict";const n=t(0);i.VisitNodes=function(e,i,t){if("function"!=typeof i)return!1;void 0===t&&(t=!1);var o=null,d=null,s=null;if(e==n.VisitationTypes.AllNodes)o=n.RelationshipTypes.FirstNode,d=n.RelationshipTypes.NextNode;else if(e==n.VisitationTypes.PrevNodes)o=n.RelationshipTypes.PrevNode,d=n.RelationshipTypes.PrevNode;else if(e==n.VisitationTypes.NextNodes)o=n.RelationshipTypes.NextNode,d=n.RelationshipTypes.NextNode;else if(e==n.VisitationTypes.ParentNodes)o=n.RelationshipTypes.ParentNode,d=n.RelationshipTypes.ParentNode;else if(e==n.VisitationTypes.SiblingNodes)o=n.RelationshipTypes.FirstSibNode,d=n.RelationshipTypes.NextSibNode;else if(e==n.VisitationTypes.PrevSibNodes)o=n.RelationshipTypes.PrevSibNode,d=n.RelationshipTypes.PrevSibNode;else if(e==n.VisitationTypes.NextSibNodes)o=n.RelationshipTypes.NextSibNode,d=n.RelationshipTypes.NextSibNode;else if(e==n.VisitationTypes.ChildNodes)o=n.RelationshipTypes.FirstChildNode,d=n.RelationshipTypes.NextSibNode,s=!0;else{if(e!=n.VisitationTypes.DescendantNodes)throw Error("Unknown VisitationType ["+e+"].");o=n.RelationshipTypes.FirstChildNode,d=n.RelationshipTypes.NextNode,s=!0}let r=null;if(t&&e!==n.VisitationTypes.AllNodes&&(r=i(this.Owner),void 0!==r))return r;let N=this.FindRelative(o);if(!N)return;let l=N.Node;for(;l;){if(s&&l.Indent<=this.Indent)return;if(r=i(l.Owner),void 0!==r)return r;if(N=l.FindRelative(d),!N)return;l=N.Node}},i.VisitAllNodes=function(e){return this.VisitNodes(n.VisitationTypes.AllNodes,e,!0)},i.VisitPrevNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.PrevNodes,e,i)},i.VisitNextNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.NextNodes,e,i)},i.VisitParentNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.ParentNodes,e,i)},i.VisitSiblingNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.SiblingNodes,e,i)},i.VisitPrevSibNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.PrevSibNodes,e,i)},i.VisitNextSibNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.NextSibNodes,e,i)},i.VisitChildNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.ChildNodes,e,i)},i.VisitDescendantNodes=function(e,i){return this.VisitNodes(n.VisitationTypes.DescendantNodes,e,i)}}])}));